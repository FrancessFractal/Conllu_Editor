<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Conllu Editor</title>
    <script src="libs/ractive.min.js"></script>
    <link href="styles/conllu.css" rel="stylesheet" />
</head>
<body>
<div class="heading">
    <h1> Conllu Editor </h1>
</div>
<section id="conllu_editor"></section>


<script id="conllu" type="text/ractive">
{{#each object.sentences:i}}
    <div class="sentence">
        <sentence object='{{.}}'/>
    </div>
{{/each}}
<button on-click="download()">Download</button>
</script>

<script id="sentence" type="text/ractive">
    <div class="comments">
        {{#each object.comments:i}}
            <span class="comment">
            #<input value="{{.}}"
                on-enter='splitComment:{{i}}'
                on-del='mergeComment:{{i}}'
                on-backspace='backmergeComment:{{i}}'>
            </span>
        {{/each}}
    </div>
    <div class="tokens">
        {{#each object.tokens}}
            {{#if tokens}}
                <multiwordtoken object='{{.}}'/>
            {{else}}
                <token object='{{.}}' />
            {{/if}}
        {{/each}}
    </div>

</script>

<script id="multiwordtoken" type="text/ractive">
    <span class="token multiwordtoken">
        <span class="id">{{object.id}}</span>
        <input class="form" value="{{object.form}}"
            on-enter='split:{{object.id}},{{object.form}}'
            on-del='merge:{{object.id}}'
            on-backspace='backmerge:{{object.id}}'
            on-shiftdel='collapse:{{object.id}}'
            on-shiftbackspace='collapse:{{object.id}}'
            >
        <input class="lemma" value="{{object.lemma}}">
        <input class="upostag" value="{{object.upostag}}">
        <input class="xpostag" value="{{object.xpostag}}">
        <input class="feats" value="{{object.feats}}">
        <input class="head" value="{{object.head}}">
        <input class="deprel" value="{{object.deprel}}">
        <input class="deps" value="{{object.deps}}">
        <input class="misc" value="{{object.misc}}">
        <span class="tokens">
            {{#each object.tokens}}
                <subtoken object='{{.}}' />
            {{/each}}
        </span>
    </span>

</script>

<script id="token" type="text/ractive">
    <span class="token">
        <span class="id">{{object.id}}</span>
        <input class="form" value="{{object.form}}"
            on-enter='split:{{object.id}},{{object.form}}'
            on-del='merge:{{object.id}}'
            on-backspace='backmerge:{{object.id}}'
            on-shiftenter='expand:{{object.id}}'
            on-downarrow='downarrow'
            on-leftarrow='leftarrow'
            on-rightarrow='rightarrow'
            on-uparrow='uparrow'
            >
        <input class="lemma" value="{{object.lemma}}">
        <input class="upostag" value="{{object.upostag}}">
        <input class="xpostag" value="{{object.xpostag}}">
        <input class="feats" value="{{object.feats}}">
        <input class="head" value="{{object.head}}">
        <input class="deprel" value="{{object.deprel}}">
        <input class="deps" value="{{object.deps}}">
        <input class="misc" value="{{object.misc}}">
    </span>

</script>

<script id="subtoken" type="text/ractive">
    <span class="token">
        <span class="id">{{object.id}}</span>
        <input class="form" value="{{object.form}}"
            on-enter='split:{{object.id}},{{object.form}}'
            on-del='merge:{{object.id}}'
            on-backspace='backmerge:{{object.id}}'
            >
        <input class="lemma" value="{{object.lemma}}">
        <input class="upostag" value="{{object.upostag}}">
        <input class="xpostag" value="{{object.xpostag}}">
        <input class="feats" value="{{object.feats}}">
        <input class="head" value="{{object.head}}">
        <input class="deprel" value="{{object.deprel}}">
        <input class="deps" value="{{object.deps}}">
        <input class="misc" value="{{object.misc}}">
    </span>

</script>

<script src="conllu_editor.js"></script>

</body>
</html>